# Day 12: タイピングゲームにスコア機能を追加しよう！

## やあ、Pythonプログラマー！

昨日は基本的なタイピングゲームを作ることができましたね。今日はさらに一歩進んで、ゲームにスコア計算機能を追加します。正解数や正確さ、タイピング速度などを計測して、プレイヤーの腕前が一目でわかるようにしましょう！

## 今日のミッション
**タイピングゲームにスコア計算機能を追加して、プレイの成績を表示できるようにしよう！**

## 準備しよう
1. 昨日作成したタイピングゲームのプログラムを開こう
2. 生成AI（ChatGPTなど）を開いておこう
3. Pythonが実行できる環境を準備しよう

## やってみよう！

### Step 1: スコア計算の仕組みを理解しよう
まずは、タイピングゲームでどのようなスコア計算が考えられるか、AIに聞いてみよう：

```
タイピングゲームで計測・表示できるスコアにはどのような種類がありますか？
次のような項目について、計算方法も含めて教えてください：
1. 正解率（何問中何問正解したか）
2. タイピング速度（1分間あたりの入力文字数など）
3. 総合スコア（上記を組み合わせた評価点）

小学生でも理解できるように、わかりやすく説明してください。
```

AIの説明を読んで、タイピングゲームのスコア計算の基本を理解しよう。どの指標が面白そうか、自分のゲームに取り入れたい機能をメモしておこう！

### Step 2: 時間を計測する方法を学ぼう
タイピング速度を計算するには、時間を計測する必要があるね。Pythonでどうやって時間を計測するか、AIに聞いてみよう：

```
Pythonでプログラムの実行時間を計測する方法を教えてください。
具体的には、ユーザーがタイピングを始めてから終えるまでの時間を秒単位で計測したいです。
初心者でも理解できる簡単なコード例も示してください。
```

AIの説明を参考に、時間計測の方法を理解しよう。基本的には「開始時間」と「終了時間」を記録して、その差を計算するんだね！

### Step 3: スコア計算機能を追加しよう
では、昨日作ったタイピングゲームのコードにスコア計算機能を追加しよう。AIにコードの改良を手伝ってもらおう：

```
昨日作ったタイピングゲームのコードに、次のスコア計算機能を追加したいです：
1. 正解数と問題数を数えて、最後に「○問中△問正解！」と表示する
2. 各問題のタイピングにかかった時間を計測し、平均時間を表示する
3. 1分間あたりの入力文字数（WPM）を計算して表示する

昨日のコードは以下の通りです：
[ここに昨日のコードをコピーして貼り付ける]

上記の機能を追加したコードを作成してください。コードにはコメントをつけて、各部分の役割を説明してください。
```

AIが提供するコードをエディタにコピーして保存し、実行してみよう！

### Step 4: スコア表示を改良しよう
基本的なスコア表示ができたら、さらに見やすく、わかりやすくしてみよう。AIに改良案を聞いてみよう：

```
タイピングゲーム終了時のスコア表示をもっと見やすくしたいです。
例えば、次のような情報をきれいに表示したいです：
- 挑戦した問題数と正解数
- 正解率（％）
- 平均回答時間（秒）
- タイピング速度（1分間あたりの文字数）
- プレイヤーの評価（「すごい！」「がんばれ！」など、成績に応じたメッセージ）

見やすい表示方法と、成績に応じた評価メッセージの付け方を教えてください。
```

AIの提案を参考に、スコア表示を改良してみよう。例えば、罫線を使ったり、色付きの文字を表示したりする方法も学んでみよう！

### Step 5: 難易度レベルを追加しよう
次に、ゲームに難易度レベルを追加してみよう。レベルによって出題される単語の難しさや長さが変わるようにするんだ：

```
タイピングゲームに難易度レベル（初級・中級・上級）を追加したいです。
レベルごとに異なる単語リストを用意して、次のような特徴を持たせたいと思います：
- 初級：短い簡単な単語（3〜4文字程度）
- 中級：少し長めの単語（5〜7文字程度）
- 上級：長い難しい単語（8文字以上）

ゲーム開始時に「難易度を選んでください（1:初級、2:中級、3:上級）」と表示して、
選んだレベルに応じた単語が出題されるようにしたいです。

このような機能を追加するためのコード例を教えてください。
```

AIのアドバイスを参考に、難易度レベルを追加してみよう！難易度によってスコア計算方法を変えてもいいね（例：上級は基本点が高いなど）。

### Step 6: スコアをファイルに保存しよう
最後に、プレイヤーのスコアをファイルに保存して、過去の記録と比較できるようにしてみよう：

```
タイピングゲームの結果（プレイヤー名、日時、難易度、正解数、タイピング速度など）をファイルに保存し、
次回プレイ時に過去の最高記録と比較できるようにしたいです。

具体的には次のような機能が欲しいです：
1. ゲーム開始時にプレイヤー名を入力してもらう
2. ゲーム終了時にスコアをファイル（例：typing_scores.txt）に保存する
3. ゲーム開始時に過去の自己最高記録があれば表示する

このような機能を実現するためのコード例を教えてください。
```

AIが提供するコードを使って、スコア保存機能を追加してみよう！これで、何度もプレイして記録に挑戦する楽しさが加わるね。

## 今日のチャレンジ！
基本のステップができたら、次のチャレンジに挑戦してみよう：

1. タイピングの正確さも計測してみよう（入力ミスの回数をカウントするなど）
2. 難易度に「タイムアタックモード」を追加してみよう（制限時間内に何問解けるか）
3. スコアに応じてランク（S, A, B, C...など）を表示する機能を追加してみよう
4. スコア履歴をグラフ化する機能を考えてみよう（今は難しければ構想だけでもOK）

## 考えてみよう！
- どんなスコア計算方法が公平で、プレイヤーのやる気を引き出せるだろう？
- プログラムで時間を計測することで、どんな面白いゲーム機能が考えられるだろう？
- プレイデータを保存することの利点は何だろう？他にどんなデータを保存すると面白いだろう？

## 今日の学びのポイント
- **時間計測**: プログラム内で経過時間を計測する方法
- **スコア計算**: 複数の要素を組み合わせて総合評価を行う方法
- **条件分岐の応用**: 難易度レベルに応じて処理を変える方法
- **ファイル操作**: データをファイルに保存・読み込みする方法
- **ユーザー体験の向上**: 見やすい表示や評価メッセージでゲームを楽しくする工夫

## 今日のミッション達成チェック
□ タイピングゲームにスコア計算機能を追加した  
□ 時間計測機能を実装した  
□ スコア表示を見やすく改良した  
□ 難易度レベルを追加した  
□ スコアをファイルに保存・読み込みする機能を追加した  

## 困ったときは？
- 時間計測がうまくいかないときは、`time`モジュールの使い方を再確認してみよう
- スコア計算の数式がわからなければ、AIに具体的な例を示して説明してもらおう
- ファイル操作でエラーが出たら、ファイルのパスや権限に問題がないか確認してみよう
- コードが複雑になってきたら、機能ごとに関数に分けると整理しやすくなるよ

**明日のヒント**: 明日は、タイピングゲームに音声機能を追加します。正解時と不正解時に効果音を鳴らして、ゲームをもっと楽しくしていきましょう！
